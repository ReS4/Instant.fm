{% extends "base.html" %}

{% block bodyId %}p{% end %}

{% block body %}
  <div class="clearfix" id="main">
    <div id="playlistDisplay">
    
      <header id="header">
        <a class="ir" href="/" id="headerLogo">
          <h1>Instant.fm - Share Music Playlists Instantly</h1>
        </a>
      </header>
    
      <div id="videoDiv">
        <div id="videoTools">
          <a href="#shuffle" id="shuffle" class="small awesome">
            Shuffle
          </a>
          <a href="#repeat" id="repeat" class="small awesome">
            Repeat
          </a>
          <a href="#showHideVideo" id="showHideVideo" class="small awesome">
            Hide Video
          </a>
        </div>
        <div id="player">&nbsp;</div>
      </div>
      
      <div id="playlistDiv">
        <ul id="playlist">
          <!-- Loaded via JS -->
        </ul>
      </div>
      
    </div> <!-- end of #playlistDisplay -->
  
    <div id="infoDisplay">
      
      <nav class="clearfix" id="headerMenu">
        <a href="#myLists" id="myLists">My Playlists</a>
        <a href="#signUp" id="signUp">Sign up</a>
      </nav>
    
      <div id="FS_slider" class="clearfix">
        <div id="FS_holder">
          {% block mini-browser %}
          {% end %}
        </div> <!-- end of #FS_holder -->
      </div> <!-- end of #FS_slider -->      
        
      <footer id="footer">
        <strong><a href="#">Instant.fm</a></strong> |
        <a href="#">FAQ</a> |
        <a href="#">Blog</a> |
        <a href="#">Contact</a>
        <a href="#helpBox" id="helpLink">Keyboard shortcuts available</a>
      </footer>
    
    </div> <!-- end of #infoDisplay -->
  

  </div> <!-- end of #main -->

  <div class="invisible" id="devNull">
    <div id="curAlbumImgZoom">&nbsp;</div>
    <div id="curArtistImgZoom">&nbsp;</div>
  
    <div id="helpBox">
      <div class="fancyZoomHeader">Keyboard shortcuts</div>
      
      <section class="helpSection">
        <div class="fancyZoomSectionHeader">Playback Control</div>
        <dl class="clearfix shortcut">
          <dt class="key">space</dt>
          <dd class="action">Play/pause</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">&larr;</dt>
          <dt class="key">&rarr;</dt>
          <dd class="action">Previous/next song</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">+</dt>
          <dt class="key">-</dt>
          <dd class="action">Volume up/down</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">V</dt>
          <dd class="action">Show/hide video</dd>
        </dl>
      </section>
      <section class="helpSection">
        <div class="fancyZoomSectionHeader">Playlist Editing</div>
        <dl class="clearfix shortcut">
          <dt class="key">A</dt>
          <dd class="action">Add songs</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">K</dt>
          <dd class="action">Move current song up</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">J</dt>
          <dd class="action">Move current song down</dd>
        </dl>
      </section>
      <section class="helpSection">
        <div class="fancyZoomSectionHeader">Share current playlist</div>
        <dl class="clearfix shortcut">
          <dt class="key">F</dt>
          <dd class="action">Share on Facebook</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">T</dt>
          <dd class="action">Share on Twitter</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">B</dt>
          <dd class="action">Share on Buzz</dd>
        </dl>
      </section>
      <section class="helpSection">
        <div class="fancyZoomSectionHeader">Navigation</div>
        <dl class="clearfix shortcut">
          <dt class="key">L</dt>
          <dd class="action">Show currently playing song</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">S</dt>
          <dd class="action">Search (TODO)</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">ESC</dt>
          <dd class="action">Go back in minibrowser</dd>
        </dl>
        <dl class="clearfix shortcut">
          <dt class="key">?</dt>
          <dd class="action">Bring up this help dialog</dd>
        </dl>
      </section>
    </div> <!-- end of #helpBox -->
          
  </div> <!-- end of #devNull -->
{% end %}

{% block scripts %}
    <script>var initial_playlist = {{ playlist.replace('<', '\u003c').replace('>', '\u003e') }};</script>
    <script>
      $(function() {
          onloadPlaylist();
      });
    </script>
{% end %}